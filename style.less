/*
Theme Name: nimbus
Theme URI: https://github.com/jameskoster/nimbus
Description: Nimbus is a lightweight, free WordPress theme designed with your content in mind. It features a clean design with a strong focus on typography, plus a bunch of presentational options allowing you to make your site unique. <a href="http://twitter.com/jameskoster/">Follow me on Twitter</a> for updates.
Author: James Koster
Author URI: http://jameskoster.co.uk/
Version: 0.3
Tags: gray, two-columns, left-sidebar, flexible-width, post-formats, sticky-post, threaded-comments, translation-ready, theme-options, dark

License: GNU General Public License v2.0
License URI: http://www.gnu.org/licenses/gpl-2.0.html
FontAwesome License: SIL Open Font License - http://scripts.sil.org/OFL
Modular Scale: http://modularscale.com/scale/?px1=16&px2=18&ra1=1.333&ra2=0
*/

// Mobile styles

/**
 * Imports
 */
@import 'less/mixins.less';
@import 'less/normalize.less';
@import 'less/grid.less';
/**
 * Mobile layout
 */
.wrapper {
	margin:0 1.777em;
	-webkit-animation-name:fadein;
	-webkit-animation-duration:.9s;
	-webkit-animation-iteration-count:1;
}

/**
 * Typography
 */
@font-face {
	font-family: 'FontAwesome';
	src: url('@{FontAwesomePath}/fontawesome-webfont.eot?v=3.0.1');
	src: url('@{FontAwesomePath}/fontawesome-webfont.eot?#iefix&v=3.0.1') format('embedded-opentype'),
	url('@{FontAwesomePath}/fontawesome-webfont.woff?v=3.0.1') format('woff'),
	url('@{FontAwesomePath}/fontawesome-webfont.ttf?v=3.0.1') format('truetype');

	font-weight: normal;
	font-style: normal;
}

html {
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-webkit-text-size-adjust: none;
	background: @color_bg;
	font-size:80%;
	font-family: @fontstack_body;
}

body {
	text-align: left;
	font-family:; @fontstack_body;
	font-weight: 400;
	font-size:1.125em;
	line-height: 1.777;
	overflow-x:hidden;
	color: @color_body;
	&:before, &:after {
		display: block;
		content: "";
		height:.422em;
		position: fixed;
		left:0;
		right:0;
		background: @color_theme;
		z-index: 9999;
		width:100%;
	}
	&:before {
		top:0;
	}
	&:after {
		bottom:0;
	}
}

body.admin-bar {
	&:before {
		top:28px;
	}
}

h1, h2, h3, h4, h5, h6, .heading, .alpha, .beta, .gamma, .delta {
	font-family: @fontstack_headings;
	font-weight: 700;
	margin:0;
	margin-bottom:1em;
	color: @color_body + #444;
	line-height: 1.333;
	position: relative;
	word-spacing: .113em;
	word-wrap: break-word;
	text-align: left;
	a {
		text-decoration: none;
	}
}

h1, .site-title, .alpha {
	display:block;
	font-size:1.777em;
	letter-spacing: -1px;
	text-transform: uppercase;
	&.archive-header {
		font-weight: 400;
		font-size:1.125em;
		letter-spacing: 1px;
	}
}
h2, .beta {
	font-size:1.5em;
}
h3, .gamma {
	font-size:1.333em;
}
h4, .delta {
	font-size:1.125em;
}

p + h1, p + h2, p + h3, p + h4 {
	padding-top:0;
}

p, ul, ol, dl, blockquote, pre, table, fieldset, article, article footer, nav {
	margin: 0 0 1.777em 0;
}

ul, ol {
	padding-left:0;
	ul, ol {
		margin:0 0 0 1.777em;
	}
}

dd {
	margin-left:1.777em;
}

p {
	-webkit-hyphens : auto;
	-webkit-hyphenate-character : "\2010";
	-webkit-hyphenate-limit-after : 1;
	-webkit-hyphenate-limit-before : 3;
	-moz-hyphens : manual;
	orphans : 3;
	widows : 3;
}

small, .small {font-size:0.844em; line-height: 1.75em;}

strong {
	font-weight: 700;
}

blockquote {
	font-family: @fontstack_headings_sidebar;
	font-weight: 400;
	font-size: 1.333em;
	.opacity(0.8);
	p:last-child {
		margin-bottom:0;
	}

	cite {
		.small;
		text-transform: uppercase;
		font-style: normal;
		font-family: @fontstack_body;
		text-transform: uppercase;
		letter-spacing: 1px;
		font-size:.844em;
		display: block;
	}

	p + p cite, p + cite {
		margin-top:-1.777em;
	}

	&:before {
		content: "\201C";
		text-indent: -.563em;
		float: left;
		font-size:3.157em;
		font-family:"FontAwesome";
		line-height: 1;
	}
}

blockquote + blockquote {
	border-top:1px solid rgba(0,0,0,0.1);

	p:first-child {
		padding-top:1.777em;
		border-top:2px solid  rgba(0,0,0,0.1);
	}
}

code, pre {
	background: rgba(0,0,0,0.05);
	padding:0.1em 0.201em;
	.border_radius(0.201em);
	color: #dc5494;
	margin:0 .201em;
	padding:0 .201em;
	text-shadow:0 1px 0 rgba(0,0,0,0.05);
	border:1px solid rgba(0,0,0,0.1);
}

pre {
	padding:.633em;
	margin-bottom:1.777em;
	code {
		background: none;
		border:0;
	}
}

span.ampersand {
	font-family: Baskerville, Palatino, "Book Antiqua", serif;
	font-style: italic;
}

img {
	max-width:100%;
	height:auto;
}

/**
 * Anchors
 */
a {
	color: @color_theme;
	text-decoration: none;
	&:hover {
		text-decoration: underline;
	}
}

/**
 * Forms
 */
form {
	label {
		display: block;
	}
	.comment-form-author, .comment-form-email, .comment-form-url {
		width:30.75%;
		float: left;
		margin-right:3.8%;
		label {
			display: inline-block;
			float: left;
		}
		input {
			clear: left;
		}
		.required {
			color: darkRed;
		}
	}
	.comment-form-url {
		float: right;
		margin-right:0;
	}
}

input[type="text"], textarea {
	width:100%;
	.borderbox;
	border:0;
	padding:.422em;
	.border_radius;
	background: @color_body + #444;
	color: @color_bg;
	outline:none;
}
textarea {
	padding:1em;
}

input[type="submit"], .button {
	display: inline-block;
	padding:.422em .844em;
	font-size: 1em;
	font-family: @fontstack_navigation;
	text-transform: uppercase;
	background: @color_theme;
	color: @color_bg;
	border:0;
	font-size:.844em;
	.border_radius;
	text-decoration: none;
	font-weight: 700;
	-webkit-box-shadow:
		inset 0 -2px 6px rgba(0,0,0,0.15),
		inset 0 -2px 30px rgba(0,0,0,0.025),
		inset 0 1px 0 rgba(255,255,255,0.2),
		0 1px 2px rgba(0,0,0,0.3);
	box-shadow:
		inset 0 -2px 6px rgba(0,0,0,0.15),
		inset 0 -2px 30px rgba(0,0,0,0.025),
		inset 0 1px 0 rgba(255,255,255,0.2),
		0 1px 2px rgba(0,0,0,0.3);
	&:hover {
		text-decoration: none;
	}
}

hr {
	height:1px;
	border:0;
	background: @color_body;
	.opacity(0.2);
}

/**
 * Sidebar
 */

.sidebar {
	display: none;
}


/**
 * Header
 */
.header {
	.clearfix;
	margin:0 0 2.665em 0;
	padding:2.665em 0 0 0;
	.site-title, .intro {
		display: none;
	}
	.logo {
		margin-bottom:0;
		width:6.312em;
		float: left;
		a {
			display: block;
			img {
				.border_radius(100%);
				display: block;
				.borderbox;
			}
			span {
				display:none;
				.borderbox;
			}
		}
	}
	p.toggle-container {
		width:2.369em;
		float: right;
		margin-top:1.555em;
	}
	.main-nav {
		clear:both;
		margin-bottom:0;
	}
	.nav-toggle {
		text-indent: -999em;
		position: relative;
		display:block;
		padding:.563em 0;
		&:after {
			font-family: "FontAwesome";
			content: "\f0c9";
			position: absolute;
			top:0;
			left:0;
			right:0;
			bottom:0;
			text-align: center;
			text-indent: 0;
			line-height: 3.157;
		}
	}
	& + hr {
		margin-bottom:2.665em;
		margin-top:0;
	}
}

/**
 * Navigation
 */
ul.menu {
	list-style: none;
	margin:0;
	padding-top:1.777em;
	ul {
		margin:0;
		list-style: none;
	}
}

/**
 * Posts
 */
.post {
	margin-bottom:5.61em;
	padding-bottom:1.999em;
}

/**
 * Images
 */
.aligncenter {
	display: block;
	margin:0 auto 1.777em;
	max-width:100%;
}

.alignright {
	display: block;
	float: right;
	margin:1.777em 0 1.777em 1.777em;
	max-width:100%;
}

.gallery-caption, .wp-caption-text {
	font-style: italic;
	font-size: .844em;
	line-height: 1.33em
}

img.alignleft {
	max-width: none;
	float: left;
	margin:1.777em 1.777em 1.777em 0;
	max-width:100%;
}

img.wp-post-image {
	width:100%;
	max-width:none;
	margin-bottom:1.777em;
}
.post img {
	padding:1em;
	background: #fff;
	.borderbox;
	&.wp-smiley {
		padding:0;
		background: none;
	}
}
.gallery {
	img {
		border:0 !important;
	}
	dl.gallery-item {
		margin:0;
		.borderbox;
	}
}

/**
 * Post Formats
 */

.format-image, .format-video, .format-status, .format-gallery, .format-audio, .format-chat {
	.post-date {
		position: relative;
		&:before {
			.iconbefore;
			content: "\f03e";
		}
	}
}
.format-link {
	h1 {
		a {
			.icon_external;
		}
	}
}
.format-video {
	.post-date {
		.icon_video;
	}
}
.format-status {
	.post-date {
		.icon_status;
	}
}
.format-audio {
	.post-date {
		.icon_audio;
	}
}
.format-chat {
	.post-date {
		.icon_comment;
	}
}


/**
 * Gallery
 */
.gallery-nav {
	.clearfix();
	.borderbox;
	.row(2);
	a {
		.column(1,2);
		display: block;
		&:nth-child(2n) {
			margin-right:0;
		}
		img {
			width:100%;
		}
	}
}

/**
 * Comments
 */
p.nocomments {
	.column(8,8);
	&:before {
		.iconbefore;
		content: "\f056";
	}
}
#comment-nav-above, #comment-nav-below {
	.clearfix;
	clear:both;
	.column(8,8);
	h1 {
		display: none;
	}
	.nav-previous {
		float: left;
	}
	.nav-next {
		float: right;
	}
}
.comments {
	ol.commentlist, ul.children {
		padding-left:0;
		clear:both;
		list-style: none;
		.clearfix;
		text-align: justify;
		#respond {
			margin-left:0;
			margin-right:0;
			width:auto;
			float:none;
		}
	}
	ul.children {
		margin-bottom:0;
		margin-left:0;
		//.push(1);
		.row(8);
		> li {
			.column(7,8);
			float:right;
		}
		ul.children {
			.row(7);
			>li {
				.column(6,7);
				float:right;
			}
			ul.children {
				.row(6);
				>li {
					.column(5,6);
					float:right;
				}
				ul.children {
					.row(5);
					>li {
						.column(4,5);
						float:right;
					}
				}
			}
		}
	}
	.comment-author {
		.clearfix;
		margin-bottom:1em;
		img {
			float: right;
			height:48px;
			width:48px;
			.border_radius(100%);
			margin-left:1em;
		}
		cite {
			font-style: normal;
			.gamma;
			a {
				.icon_external;
				color: @color_body + #444;
			}
		}
		.comment-meta {
			.small_upper;
			.date-link {
				.icon_date;
			}
		}
	}
	.comment-body {
		margin-bottom:2.665em;
	}
	.comment-reply-link {
		font-size:.844em;
		&:before {
			.iconbefore;
			content: "\f112";
		}
	}
	hr {
		margin-bottom:2.665em;
		margin-top:0;
	}
}

#respond {
	clear:both;
	h3 {
		padding-top:0;
	}
}

/**
 * Widgets
 */
.widget {
	margin-bottom:3.552em;
	ul, ol {
		list-style: none;
	}
}

/**
 * Navigation
 */
.main-nav {
	display: none;
}

/**
 * Tables
 */
table {
	width:100%;
}

/**
 * Posts
 */
.post-date {
	.small_upper;
	.icon_date;
}
.sticky .post-date:before {
	.iconbefore;
	content: "\f08d";
}
.post-meta {
	text-align: left;
	ul, li {
		list-style: none;
		ul {
			margin:0;
		}
	}
	a {
		display: inline-block;
		font-weight: 400;
	}
	li.comment {
		.icon_comment;
	}
	li.permalink {
		.icon_link;
	}
	li.categories {
		.icon_folder;
	}
	li.tags {
		.icon_tag;
	}
}

.navigation {
	padding-top:1em;
	clear:both;
	.clearfix;
	.prev, .next {
		width:50%;
		float: left;
	}
	a {
		display: inline-block;
		height:3.9em;
		text-indent: -999em;
		text-align: left;
		padding:0;
		position: relative;
		.transition;
		width:100%;
		.opacity(0.5);
		&:before {
			font-family: "FontAwesome";
			content: "\f053";
			position: absolute;
			top:0;
			left:0;
			width:100%;
			text-indent: 0;
			font-size:2.369em;
			line-height: 1.5;
			text-align: left;
		}
		&:hover {
			margin-left:-.422em;
			.opacity(1);
		}
	}
	.next {
		a {
			&:before {
				content: "\f054";
				text-align: right;
			}
			&:hover {
				margin-left:.422em;
			}
		}
	}
}
.single {
	&.single-format-link {
		.navigation {
			margin-top:0;
			padding-top:0;
		}
	}
}
#nav-below {
	&.navigation {
		a {
			&:before {
				content: "\f0a8";
				text-align: left;
			}
			&:hover {
				margin-left:-.422em;
			}
		}
		.prev {
			a {
				&:before {
					content: "\f0a9";
					text-align: right;
				}
				&:hover {
					margin-left:.422em;
				}
			}
		}
	}
}

/**
 * Footer
 */
.footer {
	padding:2.665em 0;
	p {
		margin:0;
	}
}

/**
 * Lightbox
 */
#lightbox {
	position:fixed; /* keeps the lightbox window in the current viewport */
	top:0;
	left:0;
	bottom:0;
	right:0;
	width:100%;
	height:100%;
	background: rgba(0,0,0,0.8);
	text-align:center;
	z-index: 999;
	display: table;
	#lightboxcontent {
		display: table-cell;
		vertical-align: middle;
	}
	img {
		max-width:300px;
		max-height:460px;
		.box_shadow(0,0,1em,0,rgba(0,0,0,0.5));
		background: url(images/loader.gif) no-repeat center #fff;
		cursor: pointer;
	}
}

/**
 * Main Layout
 * @type Desktop
 */
@media only screen and (min-width: 768px) {

/* Only apply the layout if the user is on a desktop / tablet */

	body {
		font-size:1.333em;
	}

	/**
	 * Layout
	 */
	.content {
		.column(8);
		.push(1);
	}


	/**
	 * Header
	 */
	.header {
		.clearfix;
		margin-bottom:0;
		.wrapper {
			position:relative;
		}
		.site-title, .intro {
			display: none;
		}
		.toggle-container {
			display:none !important;
		}
		.logo {
			.column(3);
			margin-bottom:0;
			position: absolute;
			top:0;
			left:0;
			z-index: 99;
			a {
				position: relative;
				.row(3);
				img {
					.column(2,3);
					//-webkit-backface-visibility:hidden;
					-webkit-transition:all ease-in-out 0.4s;
					z-index:900;
					background:#fff;
					text-align:center;
					-webkit-transform: perspective( 400px ) rotateY( 0deg );
					border:.356em solid @color_body;
					.box_shadow(0,1px,3px,0,rgba(0,0,0,0.3));
				}
				span {
					.column(2,3);
					position: absolute;
					text-indent: -99em;
					top:0;
					left:0;
					right:0;
					bottom:0;
					background: url(images/ico-home.png) center no-repeat rgba(0,0,0,0.75);
					.inset_box_shadow(0,0,0,.633em,#000);
					background-size: 55px 52px;
					.border_radius(100%);
					z-index:800;
					-webkit-transform: perspective( 400px ) rotateY( -180deg );
					-webkit-transform-style:preserve-3d;
					-webkit-backface-visibility:hidden;
					-webkit-transition:all ease-in-out 0.4s;-moz-transition:all ease-in-out 0.4s;
					border:.356em solid @color_body;
				}
				&:hover {
					img {
						z-index:900;
						-webkit-transform: perspective( 400px ) rotateY( 180deg );
					}
					span {
						z-index:1000;
						-webkit-transform: perspective( 400px ) rotateY( 0deg );
					}
				}
			}
		}
		.main-nav {
			.column(8);
			.push(4);
			clear: none;
		}
	}

	html {
		-webkit-text-size-adjust: none;
	}

	.wrapper {
		max-width:62.918em;
		margin:0 auto;
		.clearfix;
	}


	/**
	 * Navigation
	 */
	.main-nav {
		display: block !important;
		text-align: left;
		padding-top:2.369em;
		margin-bottom:0;
	}
	ul.menu {
	    position: relative;
	    letter-spacing: 1px;
	    font-weight: 700;
	    margin-bottom:0;
	    margin-left:-.844em; // the horizontal padding of a top level anchor.
	    padding:0;
	    li {
	        position: relative;
	        display:inline-block;
	        zoom:1;
	        list-style: none;
	        a {
	            display: inline-block;
	            padding:1.333em .844em;
	            -webkit-box-sizing: border-box;
	            -moz-box-sizing: border-box;
	            box-sizing: border-box;
	            text-transform: uppercase;
	            text-decoration: none;
	        }
	        &.parent { // Styles applied to all parent list items
	            > a:after {
	                .iconafter;
	                content: "\f107";
	            }
	        }
	    }
	    > li {
	    	margin-right:.563em;
	    	&.current-menu-item {
	        	> a {
	        		position: relative;
	        		&:before {
	        			content: "";
	        			display: block;
	        			position: absolute;
	        			height:.356em;
	        			left:0;
	        			bottom:0;
	        			right:0;
	        			background: @color_body;
	        			.opacity(0.2);
	        		}
	        	}
	        }
	    }
	    /* CHILDREN */
	    ul {
	        width:15em;
	        visibility: hidden; // Optionally use display:none to avoid horizontal scrollbars
	        position: absolute;
	        top:100%;
	        left: 0;
	        z-index: 9999;
	        margin:0;
	        padding:0;
	        text-align: left;
	        background-color: @color_theme;
	        padding:.356em 0;
	        .border_radius_bottom;
	        .inset_box_shadow(0,1px,0,0,rgba(255,255,255,0.2));
	        li {
	            float: none;
	            display: block;
	            padding:.356em .844em;
	            a {
	                width: 100%;
	                display: inline-block;
	                text-transform: none;
	                letter-spacing: 0;
	                font-size:.844em;
	                padding:0;
	                background: none;
	                color: @color_bg;
	            }
	            &.parent {
	                > a:after {
	                	.iconafter;
	                    content:"\f054";
	                }
	            }
	        }
	    }
	    ul ul {
	        left:100%;
	        top:-.356em;
	    }
	    li:hover > ul {
	        visibility: visible;
	    }
	}


	/**
	 * Layout
	 */
	.post, article.attachment {
		.row(8);
		.clearfix;
		.post-header, .img-wrap {
			.column(8,8);
		}
		.article-content {
			.column(6,8);
		}
		.meta {
			.column(2,8);
		}
		.attachment-post-thumbnail {
			.column(8,8);
			height: auto;
		}
	}


	/**
	 * Posts
	 */
	.post {
	 	text-align: justify;
	 	.clearfix;
	 	.article-content {
			> a.zoom {
				margin-bottom:1em;
				display: block;
			}
			.attachment-post-thumbnail {
				width:auto;
				max-width:100%;
				margin:0;
				float: none;
			}
		}
	 }
	.meta {
		ul {
			list-style: none;
			margin:0;
			padding:0;
		}
	}
	.format-link {
		.post-header {
			h1 {
				em {
					text-transform: none;
				}
			}
		}
	}
	.single {
		.post {
			.article-content {
				> p:first-child {
					font-size:1.125em;
				}
			}
		}
	}
	.post-meta {
		font-size:.75em;
		ul {
			float: none;
		}
		li {
			float: none;
			margin-right:0;
			a {
				margin-right:0;
			}
		}
	}


	/**
	 * Pages
	 */
	.page {
		.clearfix;
		.article-content {
			//font-size:1.125em;
			p:first-child {
				font-size:1.125em;
			}
		}
	}


	/**
	 * Single Posts
	 */
	.single {

	}


	/**
	 * Comments
	 */
	.comments {
		.row(8);
		ol.commentlist, .comments-title, #respond {
			.column(6,8);
		}
	}


	/**
	 * Sidebar
	 */

	.sidebar {
		.column(3);
		font-size:.844em;
		font-weight: 300;
		h1, h2, h3, h4, h5 {
			font-weight:400;
			font-family: @fontstack_headings_sidebar;
			text-transform: uppercase;
		}
		a {
			font-weight: 400;
		}
	}


	/**
	 * Footer
	 */
	.footer {
		clear: both;
		margin:1.777em 0 0 0;
		padding:1.777em 0 2.665em;
		float: none;
		display: block;
		p {
			font-size:.844em;
			.column(12);
		}
	}


	/**
	 * Lightbox
	 */
	#lightbox {
		img {
			max-width:940px;
			max-height: 750px;
		}
	}

	/**
	 * Layout options
	 * sidebar-content is default, these styles override floats / margins etc for content-sidebar
	 */
	body.content-sidebar {
		.header {
			.logo {
				float:right;
				left:auto;
				right:0;
			}
			.main-nav {
				float: left;
				.column(8);
			}
		}
		.sidebar {
			float: right;
		}
		.content {
			.column(8);
		}
	}
}

/**
 * Typograph options
 * Open Sans is default, these styles override typography based on selection
 */
body.georgia, body.helvetica {
	h1, h2, h3, h4, h5, h6, blockquote, .post-date, ul.menu li a, .comments .comment-author cite, input[type="submit"], .button {
		text-transform: none;
		letter-spacing: 0;
	}
	blockquote {
		font-size:1em;
	}
}
body.georgia {
	font-family: georgia, serif;
	h1, h2, h3, h4, h5, h6, blockquote, .post-date, ul.menu li a, .comments .comment-author cite, input[type="submit"], .button {
		font-family: georgia, serif;
		font-weight: 400;
	}
}
body.helvetica {
	font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
    font-weight: 300;
	h1, h2, h3, h4, h5, h6, blockquote, .post-date, ul.menu li a, .comments .comment-author cite, input[type="submit"], .button {
		font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
    	font-weight: 300;
	}
}


/**
 * Secondary Layout
 * @type 1024x768
 */
@media only screen and (min-width: 768px) and (max-width: 1024px) {
	body {
		font-size:1.125em;
	}
}


/**
 * Tertiary Layout
 * @type Large Desktop
 */
@media only screen and (min-width: 1600px) {
	body {
		//font-size:1.555em;
	}
}


/**
 * Retina
 * @type HiDPI displays
 */
@media only screen and (-webkit-min-device-pixel-ratio: 2) {
/* here come styles from mobile-retina.css */
	#lightbox {
		img {
			background-size: 16px 16px;
		}
	}
}