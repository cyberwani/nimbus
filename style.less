/*
Theme Name: nimbus
Theme URI: https://github.com/jameskoster/nimbus
Description: A responsive theme with a focus on typography
Author: James Koster
Author URI: http://jameskoster.co.uk/
Version: 0.2.1
Tags: gray, two-columns, left-sidebar, flexible-width, post-formats, sticky-post, threaded-comments, translation-ready, theme-options, dark

License: GNU General Public License v2.0
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Foundation Icons License: MIT Open Source License
Modular Scale: http://modularscale.com/scale/?px1=16&px2=18&ra1=1.333&ra2=0
*/


// Mobile styles

/**
 * Imports
 */
@import 'less/mixins.less';
@import 'less/normalize.less';
@import 'less/grid.less';
@import url(http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,700,300);
@import url(http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700);
@import url(http://fonts.googleapis.com/css?family=Cantarell:700);

/**
 * Mobile layout
 */
.wrapper {
	margin:0 1.777em;
	-webkit-animation-name:fadein;
	-webkit-animation-duration:.9s;
	-webkit-animation-iteration-count:1;
}

/**
 * Typography
 */
@font-face {
  font-family: "GeneralFoundicons";
  src: url("typefaces/general_foundicons.eot");
  src: url("typefaces/general_foundicons.eot?#iefix") format("embedded-opentype"), url("typefaces/general_foundicons.woff") format("woff"), url("typefaces/general_foundicons.ttf") format("truetype"), url("typefaces/general_foundicons.svg#GeneralFoundicons") format("svg");
  font-weight: normal;
  font-style: normal;
}

html {
	font: 80% @fontstack_body;
	font-weight: 400;
	text-align: center;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-webkit-text-size-adjust: none;
	background: @color_bg;
}

body {
	text-align: left;
	font-size:1.125em;
	line-height: 1.777;
	overflow-x:hidden;
	color: @color_body;
	&:before, &:after {
		display: block;
		content: "";
		height:.422em;
		position: fixed;
		left:0;
		right:0;
		background: @color_theme;
		z-index: 9999;
	}
	&:before {
		top:0;
	}
	&:after {
		bottom:0;
	}
}

body.admin-bar {
	&:before {
		top:28px;
	}
}

h1, h2, h3, h4, h5, h6 {
	font-family: @fontstack_headings;
	font-weight: 700;
	color:rgba(0,0,0,0.75);
	margin:0;
	margin-bottom:1em;
	color: @color_body + #444;
	line-height: 1.333;
	position: relative;
	word-spacing: .113em;
	word-wrap: break-word;
}

h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
	text-decoration: none;
	color: @color_body + #333;
	&:after {
		content: "\2192";
		display: none;
		margin-left:.201em;
	}
	&:hover:after {
		display: block;
	}
}

h1, .site-title {
	display:block;
	font-size:1.777em;
	letter-spacing: -1px;
	text-transform: uppercase;
}
h2 {
	font-size:1.5em;
}
h3 {
	font-size:1.333em;
}
h4 {
	font-size:1.125em;
}

p + h1, p + h2, p + h3, p + h4 {
	padding-top:0;
}

p, ul, ol, dl, blockquote, pre, table, fieldset, article, article footer, nav {
	margin: 0 0 1.777em 0;
}

ul, ol {
	padding-left:0;
	ul, ol {
		margin:0 0 0 1.777em;
	}
}

dd {
	margin-left:1.777em;
}

p {
	-webkit-hyphens : auto;
	-webkit-hyphenate-character : "\2010";
	-webkit-hyphenate-limit-after : 1;
	-webkit-hyphenate-limit-before : 3;
	-moz-hyphens : manual;
	orphans : 3;
	widows : 3;
}

small, .small {font-size:0.844em; line-height: 1.75em;}

strong {
	font-weight: 700;
}

blockquote {
	font-family: @fontstack_headings_sidebar;
	font-weight: 400;
	font-size: 1.333em;
	color: @color_body + #333;
	p:last-child {
		margin-bottom:0;
	}

	cite {
		.small;
		text-transform: uppercase;
		font-style: normal;
		font-family: @fontstack_headings;
		color:@color_body + #222;
		display: block;
	}

	p + p cite, p + cite {
		margin-top:-1.777em;
	}

	&:before {
		content: "\201C";
		text-indent: -.563em;
		float: left;
		font-size:3em;
		font-family:sans-serif;
		line-height: 1em;
		color: rgba(0,0,0,0.25);
	}
}

blockquote + blockquote {
	border-top:1px solid rgba(0,0,0,0.1);

	p:first-child {
		padding-top:1.777em;
		border-top:2px solid  rgba(0,0,0,0.1);
	}
}

code, pre {
	background: rgba(0,0,0,0.05);
	padding:0.1em 0.201em;
	.border_radius(0.201em);
	color: #dc5494;
	margin:0 .201em;
	text-shadow:0 1px 0 rgba(0,0,0,0.05);
}

pre {
	padding:.633em;
	margin-bottom:1.777em;
}

span.ampersand {
	font-family: Baskerville, Palatino, "Book Antiqua", serif;
	font-style: italic;
}

img {
	max-width:100%;
	height:auto;
}

/**
 * Anchors
 */
a {
	color: @color_theme;
	&:hover {
		text-decoration: none;
	}
}

/**
 * Forms
 */
form {
	label {
		display: block;
	}
	.comment-form-author, .comment-form-email, .comment-form-url {
		width:30.75%;
		float: left;
		margin-right:3.8%;
		label {
			display: inline-block;
			float: left;
		}
		input {
			clear: left;
		}
		.required {
			color: darkRed;
		}
	}
	.comment-form-url {
		float: right;
		margin-right:0;
	}
}

input[type="text"], textarea {
	width:100%;
	.borderbox;
	border:0;
	padding:.422em;
	.border_radius;
}

input[type="submit"], .button {
	display: inline-block;
	padding:.422em .844em;
	font-size: 1em;
	font-family: @fontstack_navigation;
	text-transform: uppercase;
	.vertical_gradient(#fff,#999);
	.box_shadow(0,1px,3px,0,rgba(0,0,0,0.4));
	border:0;
	font-size:.844em;
	.border_radius;
	color: @color_body;
	text-decoration: none;
	&:hover {
		text-decoration: none;
	}
}

hr {
	height:2px;
	border:0;
	background: rgba(0,0,0,0.2);
}

/**
 * Layout
 */

/**
 * Sidebar
 */

.sidebar {
	display: none;
}


/**
 * Header
 */
.header {
	.clearfix;
	margin:2.665em 0;
	text-align: center;
	.site-title, .intro {
		display: none;
	}
	.logo {
		margin-bottom:1em;
		a {
			display: block;
			img {
				.border_radius(100%);
			}
			span {
				display:none;
			}
		}
	}
	ul.menu {
		list-style: none;
		ul {
			margin:0;
			list-style: none;
		}
	}
	hr {
		clear:both;
		.column(12);
		margin-top:1.999em;
		display: none;
	}
}

/**
 * Posts
 */
.post {
	margin-bottom:3.157em;
	padding-bottom:1.999em;
	border-bottom:1px solid rgba(0,0,0,0.2);
}

/**
 * Images
 */
.aligncenter {
	display: block;
	margin:0 auto 1.777em;
}

.alignright {
	display: block;
	float: right;
	margin:1.777em 0 1.777em 1.777em;
}

.gallery-caption, .wp-caption-text {
	font-style: italic;
	font-size: .844em;
	line-height: 1.33em
}

img.alignleft {
	max-width: none;
	float: left;
	margin:1.777em 1.777em 1.777em 0;
}

img.wp-post-image {
	width:100%;
	max-width:none;
	margin-bottom:1.777em;
}
.post img {
	padding:1em;
	background: #fff;
	.borderbox;
	&.wp-smiley {
		padding:0;
		background: none;
	}
}
.gallery {
	img {
		border:0 !important;
	}
	dl.gallery-item {
		margin:0;
		.borderbox;
	}
}

/**
 * Post Formats
 */

.format-image, .format-link, .format-video, .format-status, .format-gallery, .format-audio {
	.post-header h1 {
		position: relative;
		&:before {
			.iconbefore;
			content: "\f020";
			color: @color_theme;
			.opacity(0.5);
			font-size: .563em;
			position: absolute;
			top:.563em;
			left:-1.5em;
		}
	}
}
.format-link {
	.post-header h1:before {
		content: "\f00b";
	}
}
.format-video {
	.post-header h1:before {
		content: "\f01f";
	}
}
.format-status {
	.post-header h1:before {
		content: "\f022";
	}
}
.format-audio {
	.post-header h1:before {
		content: "\f023";
	}
}


/**
 * Gallery
 */
.gallery-nav {
	.clearfix();
	.borderbox;
	a {
		width:48%;
		margin-right:3.8%;
		display: block;
		float: left;
		&:nth-child(2n) {
			margin-right:0;
		}
		img {
			width:100%;
		}
	}
}

/**
 * Comments
 */
p.nocomments {
	.column(9,9);
	&:before {
		.iconbefore;
		content: "\f013";
	}
}
#comment-nav-above, #comment-nav-below {
	.clearfix;
	clear:both;
	.column(9,9);
	h1 {
		display: none;
	}
	.nav-previous {
		float: left;
	}
	.nav-next {
		float: right;
	}
}

/*ol.commentlist {
	list-style: none;
	padding:0;
	li.comment {
		margin-bottom:2.665em;
		list-style: none;
		ul.children {
			padding-top:2.665em;
		}
		&.bypostauthor {
			.comment-body {
				position: relative;
				&:before {
					.iconbefore;
					content: "\f02d";
					position: absolute;
					top:0;
					left:-2em;
					color: @color_body + #333;
				}
			}
		}
	}
	.comment-author {
		.clearfix;
		margin-bottom:1.333em;
		cite {
			font-style: normal;
		}
		img {
			.border_radius(100%);
			float: left;
			margin-right:1em;
		}
	}
}*/
.comments {
	.row(9);
	ol.commentlist, ul.children {
		padding-left:0;
		clear:both;
		list-style: none;
		.clearfix;
		text-align: justify;
	}
	ol.commentlist, .comments-title, #respond {
		.column(7,9);
	}
	ul.children {
		.push(1);
		margin-bottom:0;
		#respond {
			margin-left:0;
			margin-right:0;
			width:auto;
		}
	}
	.comment-author {
		.clearfix;
		border-bottom:1px solid rgba(0,0,0,0.2);
		padding-bottom:1em;
		margin-bottom:1em;
		img {
			float: left;
			height:48px;
			width:48px;
			.border_radius(100%);
			margin-right:1em;
		}
		cite {
			font-weight: 700;
			font-style: normal;
		}
		.comment-meta {
			font-size:.844em;
			a {
				color: @color_body;
			}
		}
	}
	.comment-body {
		margin-bottom:1.777em;
	}
}

#respond {
	clear:both;
	h3 {
		padding-top:0;
	}
}

/**
 * Widgets
 */
.widget {
	margin-bottom:1.777em;
	ul, ol {
		list-style: none;
	}
}

/**
 * Navigation
 */
.main-nav {
	display: none;
}

.navigation {
	.clearfix;
	clear:both;

	a {
		display: inline-block;
		padding:1em 0;
	}

	.prev {
		width:48%;
		float: right;
		text-align: right;
	}

	.next {
		width:48%;
		float: left;
	}
}
.single {
	.navigation {
		margin-bottom:3.157em;
	}
}

/**
 * Tables
 */
table {
	width:100%;
}

/**
 * Posts
 */
.post-date {
	font-style: italic;
	letter-spacing: 3px;
}
.sticky .post-date:before {
	.iconbefore;
	content: "\f01e";
}
/*.meta {
	ul {
		li {
			&:before {
				.iconbefore;
				font-size:.475em;
			}
			&.date:before {
				content: "\f029";
			}
			&.comment:before {
				content: "\f00d";
			}
			&.permalink:before {
				content: "\f00b";
			}
			&.categories:before {
				content: "\f02a";
			}
			&.tags:before {
				content: "\f01a";
			}
		}
	}
}*/
.post-meta, .navigation.single {
	ul, li {
		list-style: none;
		ul {
			margin:0;
		}
	}
	a {
		color: @color_body;
		text-transform: uppercase;
		font-size:.75em;
		font-weight: 700;
		letter-spacing: 1px;
		text-decoration: none;
		background:rgba(0,0,0,0.1);
		padding:0 5px;
		.border_radius(2px);
		display: inline-block;
		.transition();
		&:hover {
			background: rgba(0,0,0,0.3);
		}
	}
}

.single {
	.navigation {
		padding-top:1em;
		margin-top:1em;
		border-top:2px solid rgba(0,0,0,0.1);
		a {
			display: block;
			width:4em;
			height:4em;
			text-indent: -999em;
			text-align: left;
			padding:0;
			position: relative;
			.border_radius(100%);
			&:before {
				display: block;
				content: "\2039";
				position: absolute;
				top:0;
				left:0;
				right:0;
				bottom:0;
				text-indent: 0;
				font-size:2.369em;
				text-align: center;
				line-height: 1.5;
			}
		}
		.prev {
			a {
				float: right;
				&:before {
					content: "\203a";
				}
			}
		}
	}
}

/**
 * Lightbox
 */
#lightbox {
	position:fixed; /* keeps the lightbox window in the current viewport */
	top:0;
	left:0;
	bottom:0;
	right:0;
	width:100%;
	height:100%;
	background: rgba(0,0,0,0.8);
	text-align:center;
	z-index: 999;
	display: table;
	#lightboxcontent {
		display: table-cell;
		vertical-align: middle;
	}
	img {
		max-width:300px;
		.box_shadow(0,0,1em,0,rgba(0,0,0,0.5));
		background: url(images/loader.gif) no-repeat center #fff;
		cursor: pointer;
	}
}

/**
 * Main Layout
 * @type Desktop
 */
@media only screen and (min-width: 768px) {

/* Only apply the layout if the user is on a desktop / tablet */

	body {
		font-size:1.125em;
	}

	/**
	 * Layout
	 */

	.content {
		.column(9);
	}

	/**
	 * Header
	 */

	.header {
		.clearfix;
		.site-title, .intro {
			display: none;
		}
		.nav-toggle {
			display:none !important;
		}
		.logo {
			.column(3);
			a {
				position: relative;
				.row(3);
				img {
					.column(2,3);
					//-webkit-backface-visibility:hidden;
					-webkit-transition:all ease-in-out 0.4s;
					z-index:900;
					background:#fff;
					text-align:center;
					-webkit-transform: perspective( 400px ) rotateY( 0deg );
				}
				span {
					.column(2,3);
					position: absolute;
					text-indent: -99em;
					top:0;
					left:0;
					right:0;
					bottom:0;
					background: url(images/ico-home.png) center no-repeat rgba(0,0,0,0.75);
					.inset_box_shadow(0,0,0,.633em,#000);
					background-size: 55px 52px;
					.border_radius(100%);
					z-index:800;
					-webkit-transform: perspective( 400px ) rotateY( -180deg );
					-webkit-transform-style:preserve-3d;
					-webkit-backface-visibility:hidden;
					-webkit-transition:all ease-in-out 0.4s;-moz-transition:all ease-in-out 0.4s;
				}
				&:hover {
					img {
						z-index:900;
						-webkit-transform: perspective( 400px ) rotateY( 180deg );
					}
					span {
						z-index:1000;
						-webkit-transform: perspective( 400px ) rotateY( 0deg );
					}
				}
			}
		}
		.main-nav {
			.column(9);
		}
	}

	html {
		-webkit-text-size-adjust: none;
	}

	.wrapper {
		max-width:62.918em;
		.clearfix;
	}

	/**
	 * Navigation
	 */
	.nav-toggle {
		display: none;
	}
	.main-nav {
		display: block !important;
		text-align: left;
	}
	ul.menu {
	    position: relative;
	    font-family: @fontstack_navigation;
	    letter-spacing: 1px;
	    font-weight: 700;
	    margin-bottom:0;
	    margin-left:0;
	    padding:0;
	    li {
	        position: relative;
	        display:inline-block;
	        zoom:1;
	        list-style: none;
	        a {
	            display: inline-block;
	            padding:.75em 0;
	            -webkit-box-sizing: border-box;
	            -moz-box-sizing: border-box;
	            box-sizing: border-box;
	            text-transform: uppercase;
	            letter-spacing: 1px;
	            text-decoration: none;
	        }
	        &.parent { // Styles applied to all parent list items
	            > a:after {
	                content:"\2193";
	                line-height:1;
	                margin-left:1em;
	                float:right;
	            }
	        }
	        &.current-menu-item, &.current-page-item {
	        	a {
	        		text-decoration: underline;
	        	}
	        }
	    }
	    > li {
	    	margin-right:1.999em;
	    }
	    /* CHILDREN */
	    ul {
	        width:15em;
	        visibility: hidden; // Optionally use display:none to avoid horizontal scrollbars
	        position: absolute;
	        top:100%;
	        left: 0;
	        z-index: 9999;
	        margin:0;
	        padding:0;
	        text-align: left;
	        li {
	            float: none;
	            display: block;
	            a {
	                width: 100%;
	                background: @color_bg;
	                display: inline-block;
	                text-transform: none;
	                letter-spacing: 0;
	            }
	            &.parent {
	                > a:after {
	                    content:"\2192";
	                }
	            }
	        }
	    }
	    ul ul {
	        left:100%;
	        top:0;
	    }
	    li:hover > ul {
	        visibility: visible;
	    }
	}

	/**
	 * Layout
	 */
	.post {
		.row(9);
		.clearfix;
		.post-header, .img-wrap {
			.column(9,9);
		}
		.article-content {
			.column(7,9);
		}
		.meta {
			.column(2,9);
		}
		.attachment-post-thumbnail {
			.column(9,9);
			height: auto;
		}
	}

	/**
	 * Posts
	 */
	.post {
	 	text-align: justify;
	 	.article-content {
			> a.zoom {
				margin-bottom:1em;
				display: block;
			}
			.attachment-post-thumbnail {
				width:auto;
				max-width:100%;
				margin:0;
				float: none;
			}
		}
	 }
	.meta {
		ul {
			list-style: none;
			margin:0;
			padding:0;
		}
	}
	.format-link {
		.post-header {
			h1 {
				em {
					text-transform: none;
				}
			}
		}
	}
	.single {
		.post {
			.article-content {
				> p:first-child {
					font-size:1.333em;
				}
			}
		}
	}

	/**
	 * Pages
	 */
	.page {
		.article-content {
			font-size:1.333em;
		}
	}
	/**
	 * Footer
	 */
	.footer {
		clear: both;
		margin:1.777em 0;
		padding:1.777em 0;
		hr {
			margin-bottom:1.777em;
		}
	}

	/**
	 * Single Posts
	 */
	.single {

	}

	/**
	 * Sidebar
	 */

	.sidebar {
		.column(3);
		font-weight: 300;
		h1, h2, h3, h4, h5 {
			font-weight:400;
			font-family: @fontstack_headings_sidebar;
			text-transform: uppercase;
		}
		a {
			color:@color_body;
			font-weight: 400;
		}
	}

	/**
	 * Footer
	 */

	.footer {
		.column(12);
	}

	/**
	 * Lightbox
	 */
	#lightbox {
		img {
			max-width:940px;
		}
	}

}

/**
 * Secondary Layout
 * @type 1024x768
 */
@media only screen and (min-width: 768px) and (max-width: 1024px) {
	body {
		font-size:1.125em;
	}
}

/**
 * Tertiary Layout
 * @type Large Desktop
 */
@media only screen and (min-width: 1600px) {
	body {
		font-size:1.333em;
	}
}

/**
 * Retina
 * @type HiDPI displays
 */
@media only screen and (-webkit-min-device-pixel-ratio: 2) {
/* here come styles from mobile-retina.css */
	.header {
		img {
			max-width: 128px;
		}
	}
	#lightbox {
		img {
			background-size: 16px 16px;
		}
	}
}